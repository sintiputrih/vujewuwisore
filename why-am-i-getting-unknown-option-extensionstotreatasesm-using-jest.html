<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Why am i getting Unknown option &amp;quot;extensionsToTreatAsEsm&amp;quot; using jest | WinkVibe</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="From the documentation here, it looks like I should be able to add the following to my jest config extensionsToTreatAsEsm: [&#34;.js&#34;, &#34;.mjs&#34;],. But when I run I get
Unknown option &#34;extensionsToTreatAsEsm&#34; with value [&#34;.js&#34;, &#34;.mjs&#34;] was found. This is probably a typing mistake. Fixing it will remove this message.  I am on latest so what am I missing?
 2 Answers  I was getting the same error seems like it's still experimental and my build was failing on GitHub."><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>WinkVibe</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>Why am i getting Unknown option &amp;quot;extensionsToTreatAsEsm&amp;quot; using jest</h1><div><strong>Publish date: </strong>2024-09-15</div><img src=https://cdn.statically.io/img/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto><p>From the <a href=# rel="nofollow noreferrer">documentation here</a>, it looks like I should be able to add the following to my jest config <code>extensionsToTreatAsEsm: [".js", ".mjs"],</code>. But when I run I get</p><pre><code>Unknown option "extensionsToTreatAsEsm" with value [".js", ".mjs"] was found. This is probably a typing mistake. Fixing it will remove this message. </code></pre><p>I am on <code>latest</code> so what am I missing?</p><span class=d-none itemprop=commentCount></span><h2 class=mb0 data-answercount=2>2 Answers</h2><p>I was getting the same error seems like it's still experimental and my build was failing on GitHub. For the time being I went without the native ESM modules configuration in <code>jest.config.js</code></p><p><a href=# rel="nofollow noreferrer">extensionsToTreatAsEsm [array &lt; string >]</a></p><pre><code>Jest will run .mjs and .js files with nearest package.json's type field set to module as ECMAScript Modules. If you have any other files that should run with native ESM, you need to specify their file extension here. Note: Jest's ESM support is still experimental, </code></pre><span class=d-none itemprop=commentCount></span><p>I've managed to resolve this by providing</p><pre class="lang-js prettyprint-override"><code> "jest": { "extensionsToTreatAsEsm": [".ts"] } </code></pre><p>option in the <code>package.json</code> instead of <code>jest.config.ts</code>.</p><span class=d-none itemprop=commentCount></span><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmirpJawrLvVnqmfpJ%2Bse6S7zGiorp2jqbawutJobXFrZmmAeoWOsJ%2ByZZGieqp5xp6rraGenHq2usqnprCmXaS9tbXOp2SesKSau7S1zqeqraekp7KiwMCsnKylXarAqrrGZqGeq6Q%3D</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. Â© 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/banner.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>